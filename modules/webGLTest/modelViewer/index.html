<!DOCTYPE html>

<html lang="en-US" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="description" content="" />
        <meta name="author" content="unai" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0" />
        
        <title>3D Models Viewer</title>
        
        <link rel='stylesheet' href='/OneWeb/common/css/commonStyles.css'>
        <link rel='stylesheet' href='modelViewer.css'>
        
        <script src='/OneWeb/common/js/jquery.js'></script>
        <script src="/OneWeb/common/js/three.js"></script>
        <script src="/OneWeb/common/js/MTLLoader.js"></script>
        <script src="/OneWeb/common/js/OBJMTLLoader.js"></script>
        <script src="/OneWeb/common/js/ColladaLoader.js"></script>
        <script src='/OneWeb/common/js/common.js'></script>
        <script src='/OneWeb/common/js/ExploringCamera.js'></script>
        <script src='modelViewer.js'></script>
	</head>

	<body onload="startup()">

    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TNWP34"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TNWP34');</script>
    <!-- End Google Tag Manager -->

		<!-- TODO change the following to only local when eveerything integrated (remove iFrame and cleanup submit)-->
	    <form id ='modelForm' target='dummyFrame' enctype='multipart/form-data' method="post" 
	          action='/OneWeb/srvRequests/fileUploadRequests.php' onsubmit="return submitModel()">
	        <iframe id = 'dummyFrame' name = 'dummyFrame' onload='loadModel()'> </iframe>
    	    <table id = 'inputsTable'>
    	        <tr>
            	    <td id = 'selectTd'><p>
            	        Format: &nbsp; &nbsp;
                	    <select id="typeSelect"> 
                	       <option id='objOption' value='obj'>OBJ</option>
                	       <option id='jsonOption' value='json'>JSON</option>
                	       <option id='daeOption' value='dae'>DAE</option>
                	    </select>
                	</p></td>
                	<td id = 'inputModelTd'><p>
                        Model: &nbsp; &nbsp;
                        <input type='file' id="inputModel" name="inputModel[]" size=30 multiple/> 
                    </p></td>
                	<td id = 'inputTexturesTd'><p>
                	    Textures: &nbsp; &nbsp;
                        <input type='file' id="inputTextures" name="inputTextures[]"size=30 multiple/> 
                    </p></td>
                    <td id = 'submitTd'>
                        <input type='submit' id="submitButton" value="View"/> 
                    </td>
                </tr>
                <tr>
                    <td> </td>
                    <td id = 'modelFilesTd'> </td>
                    <td id = 'textureFilesTd'> </td>
                    <td> </td>
               </tr> 
    	    </table>
    	    <div id = 'glContainer'>
	    </div>
	    </form>
	</body>
</html>
